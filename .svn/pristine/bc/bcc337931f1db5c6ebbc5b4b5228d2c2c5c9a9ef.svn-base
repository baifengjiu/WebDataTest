package fx.zy.ns;

import java.awt.EventQueue;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JTextArea;

import java.awt.Color;
import java.awt.Component;

import javax.swing.GroupLayout;
import javax.swing.GroupLayout.Alignment;
import java.awt.FlowLayout;
import javax.swing.JLabel;
import javax.swing.JTextField;
import javax.swing.JButton;
import javax.swing.JTextPane;
import javax.swing.LayoutStyle.ComponentPlacement;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;
import java.util.List;

import javax.swing.UIManager;
import java.awt.CardLayout;

public class ActionTest {

	private JFrame frmActionText;
	private final JPanel _Url_box = new JPanel();
	private JTextField _Url_Text1;
	private JTextField _Url_Text2;
	private JTextArea _Get_Message_Content;
	private JPanel _RightPanel;
	private JTextField _Par_Name_Text;
	private JTextArea _Par_Value_Text;

	/**
	 * Launch the application.
	 */
	public void init() {
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					ActionTest window = new ActionTest();
					window.frmActionText.setVisible(true);
					UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName()); 
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
	}

	/**
	 * Create the application.
	 */
	public ActionTest() {
		initialize();
	}

	/**
	 * Initialize the contents of the frame.
	 */
	private void initialize() {
		frmActionText = new JFrame();
		frmActionText.setTitle("Action Text");
		frmActionText.getContentPane().setBackground(UIManager.getColor("Button.background"));
		frmActionText.setBounds(100, 100, 1085, 638);
		frmActionText.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		frmActionText.getContentPane().setLayout(null);
		_Url_box.setBackground(Color.ORANGE);
		_Url_box.setBounds(2, 2, 1064, 45);
		frmActionText.getContentPane().add(_Url_box);
		_Url_box.setLayout(null);
		
		JLabel _Url_Label1 = new JLabel("url:");
		_Url_Label1.setBounds(250, 12, 24, 15);
		_Url_box.add(_Url_Label1);
		
		_Url_Text1 = new JTextField();
		_Url_Text1.setBounds(297, 9, 306, 21);
		_Url_Text1.setText("http://");
		_Url_box.add(_Url_Text1);
		_Url_Text1.setColumns(50);
		
		JLabel _Url_Label2 = new JLabel("/");
		_Url_Label2.setBounds(613, 12, 6, 15);
		_Url_box.add(_Url_Label2);
		
		_Url_Text2 = new JTextField();
		_Url_Text2.setBounds(629, 9, 126, 21);
		_Url_box.add(_Url_Text2);
		_Url_Text2.setColumns(20);
		
		JLabel _Url_Label3 = new JLabel(".action");
		_Url_Label3.setBounds(765, 14, 42, 15);
		_Url_box.add(_Url_Label3);
		
		JButton _Url_Submit = new JButton("提交");
		_Url_Submit.setBounds(904, 8, 70, 23);
		_Url_Submit.addActionListener(new ActionListener() {
			
			@Override
			public void actionPerformed(ActionEvent e) {
				// TODO Auto-generated method stub				
				String url = _Url_Text1.getText()+"/"+_Url_Text2.getText()+".action";
				List<String> key = new ArrayList<>();
				List<String> value = new ArrayList<>();
				for(Component c:_RightPanel.getComponents()){
					if(c instanceof JPanel){
						String name = c.getName();
						System.out.println(name);
						for (Component s:((JPanel) c).getComponents()) {
						
							if (s instanceof JTextField) {
								key.add(((JTextField) s).getText());
							}
							if (s instanceof JTextArea) {
								value.add(Util.replaceBlank(((JTextArea) s).getText()));
							}
						}
					}
				}		
				
				String rslt = SendRequest.sendByGet(frmActionText,url, key, value);
				//String rslt ="这是本地测试";
				_Get_Message_Content.append("=============="+_Url_Text2.getText()+".action=============\n");
				_Get_Message_Content.append("url："+url+"\n");
				_Get_Message_Content.append(rslt+"\n");
				_Get_Message_Content.append("===================================================\n");				
			}
		});
		_Url_box.add(_Url_Submit);
		
		
		JPanel _Get_Message_Box = new JPanel();
		_Get_Message_Box.setBackground(Color.ORANGE);
		_Get_Message_Box.setBounds(2, 50, 465, 547);
		frmActionText.getContentPane().add(_Get_Message_Box);
		
		_Get_Message_Content = new JTextArea();
		_Get_Message_Content.setForeground(Color.BLACK);
		_Get_Message_Content.setToolTipText("show the reponse message content");
		_Get_Message_Content.setText("get_message_content");
		GroupLayout gl__Get_Message_Box = new GroupLayout(_Get_Message_Box);
		gl__Get_Message_Box.setHorizontalGroup(
			gl__Get_Message_Box.createParallelGroup(Alignment.LEADING)
				.addGroup(gl__Get_Message_Box.createSequentialGroup()
					.addContainerGap()
					.addComponent(_Get_Message_Content, GroupLayout.DEFAULT_SIZE, 445, Short.MAX_VALUE)
					.addContainerGap())
		);
		gl__Get_Message_Box.setVerticalGroup(
			gl__Get_Message_Box.createParallelGroup(Alignment.LEADING)
				.addGroup(gl__Get_Message_Box.createSequentialGroup()
					.addContainerGap()
					.addComponent(_Get_Message_Content, GroupLayout.DEFAULT_SIZE, 527, Short.MAX_VALUE)
					.addContainerGap())
		);
		_Get_Message_Box.setLayout(gl__Get_Message_Box);
		
		JPanel _Button_Box = new JPanel();
		_Button_Box.setBounds(469, 50, 119, 120);
		frmActionText.getContentPane().add(_Button_Box);
		_Button_Box.setBackground(Color.ORANGE);
		_Button_Box.setLayout(new FlowLayout(FlowLayout.CENTER, 5, 5));
		
		JButton button = new JButton("新增键值对");
		_Button_Box.add(button);
		
		JButton button_1 = new JButton("删除所有键值对");
		_Button_Box.add(button_1);
		
		JButton button_2 = new JButton("删除当前键值对");
		_Button_Box.add(button_2);
		
		JPanel _Label_Box = new JPanel();
		_Label_Box.setBackground(Color.ORANGE);
		_Label_Box.setBounds(469, 173, 119, 424);
		frmActionText.getContentPane().add(_Label_Box);
		
		JLabel _Label_1 = new JLabel("Label1");
		_Label_Box.add(_Label_1);
		_Label_1.setForeground(Color.BLACK);
		_Label_1.setBackground(Color.ORANGE);
		_Label_1.setFont(new Font("宋体", Font.PLAIN, 18));
		
		_RightPanel = new JPanel();
		_RightPanel.setBounds(590, 50, 476, 547);
		frmActionText.getContentPane().add(_RightPanel);
		_RightPanel.setLayout(new CardLayout(0, 0));
		
		//=================================
		JPanel _Send_Message_Box = new JPanel();
		_RightPanel.add(_Send_Message_Box, "name_411785179983857");
		_Send_Message_Box.setBackground(Color.ORANGE);
		
		_Par_Name_Text = new JTextField();
		_Par_Name_Text.setText("par_name");
		_Par_Name_Text.setColumns(20);
		
		_Par_Value_Text = new JTextArea();
		_Par_Value_Text.setToolTipText("show the reponse message content");
		_Par_Value_Text.setText("get_message_content");
		
		//=====================================================
		
		JLabel lblKey = new JLabel("Key:");
		
		JLabel lblValue = new JLabel("Value:");
		GroupLayout gl__Send_Message_Box = new GroupLayout(_Send_Message_Box);
		gl__Send_Message_Box.setHorizontalGroup(
			gl__Send_Message_Box.createParallelGroup(Alignment.LEADING)
				.addGroup(gl__Send_Message_Box.createSequentialGroup()
					.addContainerGap()
					.addGroup(gl__Send_Message_Box.createParallelGroup(Alignment.LEADING)
						.addComponent(_Par_Value_Text, GroupLayout.DEFAULT_SIZE, 452, Short.MAX_VALUE)
						.addComponent(lblKey)
						.addComponent(_Par_Name_Text, GroupLayout.PREFERRED_SIZE, 206, GroupLayout.PREFERRED_SIZE)
						.addComponent(lblValue))
					.addContainerGap())
		);
		gl__Send_Message_Box.setVerticalGroup(
			gl__Send_Message_Box.createParallelGroup(Alignment.LEADING)
				.addGroup(gl__Send_Message_Box.createSequentialGroup()
					.addContainerGap()
					.addComponent(lblKey)
					.addPreferredGap(ComponentPlacement.RELATED)
					.addComponent(_Par_Name_Text, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
					.addPreferredGap(ComponentPlacement.RELATED)
					.addComponent(lblValue)
					.addPreferredGap(ComponentPlacement.RELATED)
					.addComponent(_Par_Value_Text, GroupLayout.DEFAULT_SIZE, 447, Short.MAX_VALUE)
					.addContainerGap())
		);
		_Send_Message_Box.setLayout(gl__Send_Message_Box);
	}
}
